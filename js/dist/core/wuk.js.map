{"version":3,"sources":["../../src/core/wuk.js"],"names":["define","u","inst","modals","getModal","str","UIkit","modal","disable","el","is","attr","enable","removeAttr","closeModal","s","m","isActive","hide","openModal","show","modalState","state","id","isAnyModalActive","result","Object","keys","forEach","k","note","icons","INFO","SUCCESS","WARNING","ERROR","PROCESS","make","o","v","notification","create","type","msg","timeout","pos","icon","status","res","defaultMsg","message","isNum","info","success","warning","error","process","init","$","document","on","e","keyCode","sb","toggle","target","window","mmm","wuk"],"mappings":"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","file":"wuk.js","sourcesContent":["define(['./util'], function (u) {\r\n\tvar inst = {},\r\n\t\tmodals = {};\r\n\t\r\n\tfunction getModal(str) {\r\n\t\treturn UIkit.modal(str);\r\n\t}\r\n\t\r\n\tfunction disable(el) {\r\n\t\tif ( !el.is(':disabled') ) {\r\n\t\t\tel.attr('disabled', '');\r\n\t\t}\r\n\t}\r\n\tfunction enable(el) {\r\n\t\tif ( !el.is(':enabled') ) {\r\n\t\t\tel.removeAttr('disabled');\r\n\t\t}\r\n\t}\r\n\tfunction closeModal(s) {\r\n\t\tlet m = getModal(s);\r\n\t\tif ( m.isActive() ) {\r\n\t\t\tm.hide();\r\n\t\t}\r\n\t}\r\n\tfunction openModal(s) {\r\n\t\tlet m = getModal(s);\r\n\t\tif ( !m.isActive() ) {\r\n\t\t\tm.show();\r\n\t\t}\r\n\t}\r\n\tfunction modalState(state, id) {\r\n\t\tif (state === true) {\r\n\t\t\tmodals[id] = true;\r\n\t\t} else if (!state) {\r\n\t\t\tmodals[id] = false;\r\n\t\t}\r\n\t}\r\n\tfunction isAnyModalActive() {\r\n\t\tvar result = false;\r\n\t\tObject.keys(modals).forEach(function (k) {\r\n\t\t\tif ( modals[k] === true ) {\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t\t// return u.isEmptyObj(modals) ? false : true;\r\n\t}\r\n\tlet note = (function () {\r\n\t\tvar icons = {\r\n\t\t\tINFO:    '<i class=\"fa  fa-info-circle           fa-lg\"  aria-hidden=\"true\"></i>',\r\n\t\t\tSUCCESS: '<i class=\"fa  fa-check-circle          fa-lg\"  aria-hidden=\"true\"></i> ',\r\n\t\t\tWARNING: '<i class=\"fa  fa-exclamation           fa-lg\"  aria-hidden=\"true\"></i>',\r\n\t\t\tERROR:   '<i class=\"fa  fa-exclamation-triangle  fa-lg\"  aria-hidden=\"true\"></i>',\r\n\t\t\tPROCESS: '<i class=\"fa  fa-refresh               fa-lg   fa-fw fa-spin\"></i>',\r\n\t\t};\r\n\t\tfunction make(o) {\r\n\t\t\tvar v;\r\n\t\t\t\r\n\t\t\tv = UIkit.notification(o);\r\n\t\t\t\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\tfunction create(type, msg, timeout, pos) {\r\n\t\t\tvar icon, status, res,\r\n\t\t\t\tdefaultMsg = 'NO_MESSAGE_WAS_SPECIFIED';\r\n\t\t\t\r\n\t\t\tif (type === 'info') { // no such thing in uk3 but it works\r\n\t\t\t\ticon = icons.INFO;\r\n\t\t\t\tstatus = 'info' || 'primary';\r\n\t\t\t} else if (type === 'success') {\r\n\t\t\t\ticon = icons.SUCCESS;\r\n\t\t\t\tstatus = 'success';\r\n\t\t\t} else if (type === 'warning') {\r\n\t\t\t\ticon = icons.WARNING;\r\n\t\t\t\tstatus = 'warning';\r\n\t\t\t} else if (type === 'error') {\r\n\t\t\t\ticon = icons.ERROR;\r\n\t\t\t\tstatus = 'danger';\r\n\t\t\t} else if (type === 'process') {\r\n\t\t\t\ticon = icons.PROCESS;\r\n\t\t\t\tstatus = 'info' || 'primary';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tres = make({\r\n\t\t\t\tmessage:  icon +' '+ (msg || defaultMsg),\r\n\t\t\t\tstatus:   status,\r\n\t\t\t\ttimeout:  u.isNum(timeout) ? timeout : 1000,\r\n\t\t\t\tpos:      pos     || 'bottom-right'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\tfunction info(msg, timeout, pos) {\r\n\t\t\treturn create('info', msg, timeout, pos);\r\n\t\t}\r\n\t\tfunction success(msg, timeout, pos) {\r\n\t\t\treturn create('success', msg, timeout, pos);\r\n\t\t}\r\n\t\tfunction warning(msg, timeout, pos) {\r\n\t\t\treturn create('warning', msg, timeout, pos);\r\n\t\t}\r\n\t\tfunction error(msg, timeout, pos) {\r\n\t\t\treturn create('error', msg, timeout, pos);\r\n\t\t}\r\n\t\tfunction process(msg, timeout, pos) {\r\n\t\t\treturn create('process', msg, timeout, pos);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tinfo: info,\r\n\t\t\tsuccess: success,\r\n\t\t\twarning: warning,\r\n\t\t\terror: error,\r\n\t\t\tprocess: process\r\n\t\t};\r\n\t}());\r\n\tfunction init() {\r\n\t\t$(document).on('keydown', function (e) {\r\n\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\tif ( !isAnyModalActive() ) {\r\n\t\t\t\t\tlet sb = $('#newSide');\r\n\t\t\t\t\tif ( !sb.is(':animated') ) {\r\n\t\t\t\t\t\tsb.toggle('slide');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t/* $('a[href^=\"#modal_\"]').on('click', function (e) {\r\n\t\t\tmodalState(true, e.target.hash.substr(1));\r\n\t\t}); */\r\n\t\t$('div[id^=\"modal_\"]').on('beforeshow', function (e) {\r\n\t\t\tmodalState(true, e.target.id);\r\n\t\t});\r\n\t\t$('div[id^=\"modal_\"]').on('hide', function (e) {\r\n\t\t\tmodalState(false, e.target.id);\r\n\t\t});\r\n\t}\r\n\t\r\n\tinst.note = note;\r\n\tinst.disable = disable;\r\n\tinst.enable = enable;\r\n\tinst.closeModal = closeModal;\r\n\tinst.openModal = openModal;\r\n\tinst.isAnyModalActive = isAnyModalActive;\r\n\tinst.modalState = modalState;\r\n\tinst.init = init;\r\n\t\r\n\twindow.mmm = modals;\r\n\twindow.wuk = inst;\r\n\treturn inst;\r\n});"]}