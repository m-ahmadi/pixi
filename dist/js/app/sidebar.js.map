{"version":3,"sources":["../../../src/js/app/sidebar.js"],"names":["define","u","newPubSub","wuk","ROOT","sidebar","els","inst","extend","open","is","toggle","close","init","$","getEls","height","window","innerHeight","on","document","e","keyCode","isAnyModalActive","traceroute","emit","discovery"],"mappings":"AAAAA,OAAO,CAAC,WAAD,EAAc,aAAd,EAA6B,UAA7B,CAAP,EAAiD,UAAUC,CAAV,EAAaC,SAAb,EAAwBC,GAAxB,EAA6B;AAC7E,KAAMC,OAAO,UAAb;AACA,KAAIC,gBAAJ;AAAA,KAAaC,YAAb;;AAEA,KAAIC,OAAON,EAAEO,MAAF,CAAUN,WAAV,CAAX;;AAEA,UAASO,IAAT,GAAgB;AACf,MAAK,CAACJ,QAAQK,EAAR,CAAW,UAAX,CAAN,EAA+B;AAC9BL,WAAQM,MAAR,CAAe,OAAf;AACA;AACD;AACD,UAASC,KAAT,GAAiB;AAChB,MAAKP,QAAQK,EAAR,CAAW,UAAX,CAAL,EAA8B;AAC7BL,WAAQM,MAAR,CAAe,OAAf;AACA;AACD;AACD,UAASA,MAAT,GAAkB;AACjB,MAAM,CAACN,QAAQK,EAAR,CAAW,WAAX,CAAP,EAAkC;AACjCL,WAAQM,MAAR,CAAe,OAAf;AACA;AACD;AACD,UAASE,IAAT,GAAgB;AACfR,YAAUS,EAAEV,IAAF,CAAV;AACAE,QAAML,EAAEc,MAAF,CAASX,IAAT,CAAN;AACAC,UAAQW,MAAR,CAAeC,OAAOC,WAAtB;AACA;;AAEAJ,IAAEG,MAAF,EAAUE,EAAV,CAAa,QAAb,EAAuB,YAAY;AAClCd,WAAQW,MAAR,CAAeC,OAAOC,WAAtB;AACA,GAFD;AAGAJ,IAAEM,QAAF,EAAYD,EAAZ,CAAe,SAAf,EAA0B,UAAUE,CAAV,EAAa;AACtC,OAAIA,EAAEC,OAAF,KAAc,EAAlB,EAAsB;AACrB,QAAK,CAACnB,IAAIoB,gBAAJ,EAAN,EAA+B;AAC9B,SAAK,CAAClB,QAAQK,EAAR,CAAW,WAAX,CAAN,EAAgC;AAC/BL,cAAQM,MAAR,CAAe,OAAf;AACA;AACD;AACD;AACD,GARD;AASAG,IAAE,cAAF,EAAkBK,EAAlB,CAAqB,OAArB,EAA8BR,MAA9B;AACAL,MAAIkB,UAAJ,CAAeL,EAAf,CAAkB,OAAlB,EAA2B,YAAY;AACtCZ,QAAKkB,IAAL,CAAU,yBAAV;AACA,GAFD;AAGAnB,MAAIoB,SAAJ,CAAcP,EAAd,CAAiB,OAAjB,EAA0B,YAAY;AACrCZ,QAAKkB,IAAL,CAAU,wBAAV;AACA,GAFD;AAGA;;AAEDlB,MAAKE,IAAL,GAAYA,IAAZ;AACAF,MAAKK,KAAL,GAAaA,KAAb;AACAL,MAAKI,MAAL,GAAcA,MAAd;AACAJ,MAAKM,IAAL,GAAYA,IAAZ;;AAEA,QAAON,IAAP;AACA,CAtDD","file":"sidebar.js","sourcesContent":["define([\"core/util\", \"core/pubsub\", \"core/wuk\"], function (u, newPubSub, wuk) {\r\n\tconst ROOT = \"#sidebar\";\r\n\tlet sidebar, els;\r\n\t\r\n\tlet inst = u.extend( newPubSub() );\r\n\t\r\n\tfunction open() {\r\n\t\tif ( !sidebar.is(\":visible\") ) {\r\n\t\t\tsidebar.toggle(\"slide\");\r\n\t\t}\r\n\t}\r\n\tfunction close() {\r\n\t\tif ( sidebar.is(\":visible\") ) {\r\n\t\t\tsidebar.toggle(\"slide\");\r\n\t\t}\r\n\t}\r\n\tfunction toggle() {\r\n\t\tif (  !sidebar.is(\":animated\")  ) {\r\n\t\t\tsidebar.toggle(\"slide\");\r\n\t\t}\r\n\t}\r\n\tfunction init() {\r\n\t\tsidebar = $(ROOT);\r\n\t\tels = u.getEls(ROOT);\r\n\t\tsidebar.height(window.innerHeight);\r\n\t\t// $(\"#newSide\").toggle(\"slide\");\r\n\t\t\r\n\t\t$(window).on(\"resize\", function () {\r\n\t\t\tsidebar.height(window.innerHeight);\r\n\t\t});\r\n\t\t$(document).on(\"keydown\", function (e) {\r\n\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\tif ( !wuk.isAnyModalActive() ) {\r\n\t\t\t\t\tif ( !sidebar.is(\":animated\") ) {\r\n\t\t\t\t\t\tsidebar.toggle(\"slide\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\"#sidebar_btn\").on(\"click\", toggle);\r\n\t\tels.traceroute.on(\"click\", function () {\r\n\t\t\tinst.emit(\"traceroute_item_clicked\");\r\n\t\t});\r\n\t\tels.discovery.on(\"click\", function () {\r\n\t\t\tinst.emit(\"discovery_item_clicked\");\r\n\t\t});\r\n\t}\r\n\t\r\n\tinst.open = open;\r\n\tinst.close = close;\r\n\tinst.toggle = toggle;\r\n\tinst.init = init;\r\n\t\r\n\treturn inst;\r\n});"]}